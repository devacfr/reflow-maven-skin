





 

 
 
 

 

 
 
     <div class="row no-gutters">
                                                              
                <div class="col-lg-12 col-xl-9 py-3">
                 <h1 id="resources_toc_localcustom_resources1">Local/custom resources</h1> 
<p>Reflow Maven skin utilises content delivery networks (CDN) for a number of CSS and JavaScript resources. These include Bootstrap files, themes, the jQuery library, etc. The reuse of popular resources via CDN provides better performance. However, such resources may not be accessible when the site is used in an offline/intranet setting.</p> 
<p>To support such deployments of Reflow skin, the configuration allows using local resources. Furthermore, custom resources can also be easily added to the generated website. These include newer versions of the used libraries as well as arbitrary scripts.</p> 
<div class="section"> 
 <h2 id="resources_toc_local_bootstrap__jquery">Local Bootstrap &amp; jQuery</h2> 
 <p>support <span class="badge badge-primary">v1.1</span><br> element <span class="badge badge-secondary">reflow</span></p> 
 <p>To force the generated site use only local CSS/JavaScript resources, use the <code class="\&quot;literal\&quot;">&lt;localResources&gt;</code> flag:</p> 
 <div> 
  <div> 
   <pre class="source">&lt;localResources&gt;true|false&lt;/localResources&gt;
</pre> 
  </div> 
 </div> 
 <ul> 
  <li> <p><b>true</b> - Locally provided Bootstrap and jQuery files will be used in the generated site, not the CDN versions. This forces <a href="reflow-documentation.html#themes-index"><code class="\&quot;literal\&quot;">site</code> Bootstrap theme</a>, which uses local Bootstrap files. Furthermore, other non-local resources such as <i>highlight.js</i> are disabled and their <a href="reflow-documentation.html#resources_toc_additional_css_files">local versions need to be added manually</a>. See below for the list of files that need to be available locally.</p> </li> 
  <li> <p><b>false (default)</b> - CDN delivered resources are used, where available.</p> </li> 
 </ul> 
 <p>Note that when using <code class="\&quot;literal\&quot;">&lt;localResources&gt;</code>, you need to provide the necessary local versions of Bootstrap and jQuery files. Reflow skin provides package containing the default web dependencies files in module <code class="\&quot;literal\&quot;">reflow-default-webdeps</code>. this package should be unpack as following example:</p> 
 <div> 
  <div> 
   <pre class="source">&lt;plugin&gt;
    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;
    &lt;executions&gt;
        &lt;execution&gt;
        &lt;id&gt;unpack&lt;/id&gt;
        &lt;phase&gt;pre-site&lt;/phase&gt;
        &lt;goals&gt;
            &lt;goal&gt;unpack&lt;/goal&gt;
        &lt;/goals&gt;
        &lt;configuration&gt;
            &lt;artifactItems&gt;
                &lt;artifactItem&gt;
                    &lt;groupId&gt;io.github.devacfr.maven.skins&lt;/groupId&gt;
                    &lt;artifactId&gt;reflow-default-webdeps&lt;/artifactId&gt;
                    &lt;version&gt;2.0.2&lt;/version&gt;
                    &lt;type&gt;jar&lt;/type&gt;
                    &lt;overWrite&gt;false&lt;/overWrite&gt;
                    &lt;includes&gt;
                        **/css/bootstrap.min.css,
                        **/css/fontawesome/*,
                        **/css/fontawesome/webfonts/*,
                        **/js/*.js,
                        **/js/languages/*,
                        **/js/styles/github.min.css
                    &lt;/includes&gt;
                &lt;/artifactItem&gt;
            &lt;/artifactItems&gt;
            &lt;outputDirectory&gt;${project.build.directory}/site&lt;/outputDirectory&gt;
        &lt;/configuration&gt;
        &lt;/execution&gt;
    &lt;/executions&gt;
&lt;/plugin&gt;
</pre> 
  </div> 
 </div> 
 <p><b>Note</b>: You can use <code class="\&quot;literal\&quot;">${session.executionRootDirectory}</code> for relativize url (see [Multi-module site][reflow-multi-modules] documentation).</p> 
 <p>Therefore it is easier to get appropriate Bootstrap files directly from the <a class="externalLink" href="http://bootswatch.com/">Bootswatch</a> and use them with the Reflow skin. Furthermore, such approach allows you to customise the Bootstrap and jQuery versions used. Use at your own risk, however, as major version changes are likely to break the website!</p> 
 <p>When using <code class="\&quot;literal\&quot;">&lt;localResources&gt;</code>, the following files need to be available in the corresponding directories within your projectâ€™s <code class="\&quot;literal\&quot;">src/site/resources</code> folder:</p> 
 <ul> 
  <li><b><code class="\&quot;literal\&quot;">css/bootstrap.min.css</code></b> - Reflow skin currently uses Bootstrap 4.1.3 or <b><code class="\&quot;literal\&quot;">css/themes/[bootswatch theme]/bootstrap.min.css</code></b>, specific bootswatch 4.1.3 theme (see <a href="reflow-documentation.html#themes-index">Themes Section</a> for more information)</li> 
  <li><b><code class="\&quot;literal\&quot;">css/fontawesome/all.min.css</code></b>, <b><code class="\&quot;literal\&quot;">css/fontawesome/webfonts/*.[eot|ttf|woff|woff2]</code></b> - font Awesome 5.2.0</li> 
  <li><b><code class="\&quot;literal\&quot;">js/bootstrap.min.js</code></b> - Bootstrap 4.1.3</li> 
  <li><b><code class="\&quot;literal\&quot;">js/jquery.min.js</code></b> - jQuery 3.3.1</li> 
  <li><b><code class="\&quot;literal\&quot;">js/anchor.min.js</code></b> - anchorJs 3.2.2</li> 
  <li><b><code class="\&quot;literal\&quot;">js/popper.min.js</code></b> - anchorJs 1.14.3</li> 
  <li><b><code class="\&quot;literal\&quot;">js/highlight.min.js</code></b> - highlightJs 9.8.0</li> 
  <li><b><code class="\&quot;literal\&quot;">js/languages/*.js</code></b> - folder containing highlightJs languages</li> 
  <li><b><code class="\&quot;literal\&quot;">js/styles/*.js</code></b> - folder containing highlightJs styles</li> 
 </ul> 
 <p>For multi-module site, remember to enable <a href="reflow-documentation.html#multi-module_toc_reuse_resources">resource reuse flag</a>, otherwise these files will have to be repeated for each sub-module.</p> 
</div> 
<div class="section"> 
 <h2 id="resources_toc_additional_css_files">Additional CSS files</h2> 
 <p>element <span class="badge badge-secondary">site.xml</span></p> 
 <p>Additional CSS files (or other resources) can be added to the page head using <a class="externalLink" href="http://maven.apache.org/plugins/maven-site-plugin/examples/sitedescriptor.html#Inject_xhtml_into_head"><code class="\&quot;literal\&quot;">&lt;body&gt;&lt;head&gt;</code> configuration</a> in the <code class="\&quot;literal\&quot;">site.xml</code> site descriptor. This configuration is available to all Maven site skins and is part of the standard site descriptor configuration.</p> 
 <p>The <code class="\&quot;literal\&quot;">&lt;head&gt;</code> element allows arbitrary XHTML, which will be injected in the generated page. Also, it can be used for custom (local or remote) versions of hard-coded Reflow skin resources. For example, to use a custom version of <a href="reflow-documentation.html#configuration_toc_code_highlight">highlight.js syntax highlighting</a>, you can disable the default configuration (<code class="\&quot;literal\&quot;">&lt;highlightJs&gt;false&lt;/highlightJs&gt;</code>) and add the relevant CSS and JavaScript manually:</p> 
 <div> 
  <div> 
   <pre class="source">&lt;project&gt;
  ...
  &lt;body&gt;
    ...
    &lt;head&gt;
      &lt;![CDATA[
      &lt;meta http-equiv="X-UA-Compatible" content="IE=edge" /&gt;
      &lt;link rel="stylesheet" href="http://yandex.st/highlightjs/9.8.0/styles/default.min.css"&gt;
      &lt;script src="http://yandex.st/highlightjs/9.8.0/highlight.min.js" crossorigin="anonymous"&gt;&lt;/script&gt;
      ]]&gt;
    &lt;/head&gt;
    ...
  &lt;/body&gt;
  ...
&lt;/project&gt;
</pre> 
  </div> 
 </div> 
 <p>Note: the <code class="\&quot;literal\&quot;">&lt;head&gt;</code> element is within <code class="\&quot;literal\&quot;">&lt;body&gt;</code>, not <code class="\&quot;literal\&quot;">&lt;custom&gt;</code> element of <code class="\&quot;literal\&quot;">site.xml</code> site descriptor.</p> 
 <p>Furthermore, the injected XHTML allows using Velocity variables. Therefore you can <a href="reflow-documentation.html#multi-module_toc_reuse_resources">reuse a local version of the library</a> by indicating its path with a <code class="\&quot;literal\&quot;">$resourcePath</code> variable, e.g.:</p> 
 <div> 
  <div> 
   <pre class="source">&lt;head&gt;
  &lt;![CDATA[
  &lt;link rel="stylesheet" href="$resourcePath/css/default.min.css"&gt;
  ]]&gt;
&lt;/head&gt;
</pre> 
  </div> 
 </div> 
</div> 
<div class="section"> 
 <h2 id="resources_toc_additional_javascript_files">Additional JavaScript files</h2> 
 <p>support <span class="badge badge-primary">v1.1</span><br> element <span class="badge badge-secondary">reflow</span></p> 
 <p>JavaScript files can be added to the page head together with CSS files. However, for performance reasons, it can be better to reference JavaScript files at the end of the document. To place custom XHTML at the end of the page (before the <code class="\&quot;literal\&quot;">&lt;/body&gt;</code> tag), use the <code class="\&quot;literal\&quot;">&lt;endContent&gt;</code> element, which also supports Velocity variables, e.g.:</p> 
 <div> 
  <div> 
   <pre class="source">&lt;custom&gt;
  &lt;reflowSkin&gt;
    ...
    &lt;endContent&gt;
      &lt;script src="$resourcePath/js/highlight.min.js" crossorigin="anonymous"&gt;&lt;/script&gt;
    &lt;/endContent&gt;
    ...
  &lt;/reflowSkin&gt;
&lt;/custom&gt;
</pre> 
  </div> 
 </div> 
 <p>Note: the <code class="\&quot;literal\&quot;">&lt;endContent&gt;</code> element is specific to Reflow skin and needs to be placed within the <code class="\&quot;literal\&quot;">&lt;custom&gt;&lt;reflowSkin&gt;</code> element.</p> 
</div>
        </div>
    <div class="d-none d-sm-none d-md-none d-lg-none d-xl-block col-xl-3">
        <div class="feedback-links">
            <ul class="nav flex-column flex-nowrap">
                <li class="nav-item">
                    <a class="nav-link" href="https://github.com/devacfr/reflow-maven-skin/tree/master/reflow-maven-skin/src/site/markdown/resources.md.vm"><i class="far fa-edit" target="_blank" rel="noopener noreferrer"></i> Improve this page</a>
                </li>
            </ul>
        </div>
                        <div id="m-toc-sidebar" class="d-print-none m-toc-sidebar-enabled m-toc-sidebar-expanded m-toc-sidebar-autoexpandable toc-sidebar-fixed">
                <nav id="m-toc-sidebar-nav flex-column">
                <ul class="m-nav--sidebar nav flex-column flex-nowrap">
    <li class="h1">
        <a class="nav-link" href="#resources_toc_localcustom_resources1" title="Local/custom resources">Local/custom resources</a>
    </li>
    <li class="h2">
        <a class="nav-link" href="#resources_toc_local_bootstrap__jquery" title="Local Bootstrap & jQuery">Local Bootstrap & jQuery</a>
    </li>
    <li class="h2">
        <a class="nav-link" href="#resources_toc_additional_css_files" title="Additional CSS files">Additional CSS files</a>
    </li>
    <li class="h2">
        <a class="nav-link" href="#resources_toc_additional_javascript_files" title="Additional JavaScript files">Additional JavaScript files</a>
    </li>
                    </ul>
                </nav>
           </div>
        </div>
</div>