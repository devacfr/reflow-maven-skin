##
## Copyright 2012-2020 Christophe Friederich
##
## Licensed under the Apache License, Version 2.0 (the "License");
## you may not use this file except in compliance with the License.
## You may obtain a copy of the License at
##
##   http://www.apache.org/licenses/LICENSE-2.0
##
## Unless required by applicable law or agreed to in writing, software
## distributed under the License is distributed on an "AS IS" BASIS,
## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
## See the License for the specific language governing permissions and
## limitations under the License.
##
#**
 * Render carousel snippet
 *
 *#
<div id="${snippet.id}" class="carousel slide#if( ${snippet.attrs['class']} ) ${snippet.attrs['class']}#end #if( ${snippet.crossfade} == 'true' )carousel-fade#end" data-ride="carousel">
#*  *##if( ${snippet.withIndicators} == "true" )##
#*  *##set($index = 0)##
    <ol class="carousel-indicators">
#*      *##foreach ( $slide in ${snippet.slides} )##
        <li data-target="#${snippet.id}" data-slide-to="$index" class="#if( $index==0 )active#end"></li>
#*          *##set( $index = $index + 1)##
#*      *##end##
    </ol>
#*  *##end##
  <div class="carousel-inner">
#*  *##set ( $activeClass = ' active' )##
#*  *##foreach( $slide in ${snippet.slides} )##
    <div class="carousel-item$activeClass#if( ${slide.attrs['class']} ) ${slide.attrs['class']}#end" #if( ${slide.interval} )data-interval="${slide.interval}"#end >
#*      *##if( ${slide.slide-image})
#*          *##if( ${slide.slide-image.html})
        #render_html( ${slide.slide-image} )
#*          *##else
        <img src="${slide.slide-image.src}"
#*          *# #if( ${slide.slide-image.attrs['class']} )class="${slide.slide-image.attrs['class']}"#end
#*          *# #if( ${slide.slide-image.alt} )alt="${slide.slide-image.alt}"#end>
#*          *##end
#*      *##end
#*      *##if( ${slide.slide-caption} && ${slide.slide-caption.html})
        <div class="carousel-caption#if( ${slide.slide-caption.attrs['class']} ) ${slide.slide-caption.attrs['class']}#end">
            #render_html( ${slide.slide-caption} )
        </div>
#*      *##end
    </div>
#*      *##set ( $activeClass = '' )##
#*  *##end##
  </div>
#*  *##if( ${snippet.withControls} == "true" )##
  <a class="carousel-control-prev" href="#${snippet.id}" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#${snippet.id}" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
#*  *##end##
</div>

