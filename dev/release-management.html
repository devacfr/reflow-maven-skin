 


  <div class="row no-gutters">
    <div class="col-lg-12 col-xl-9">
    <hr class="toc-separator" />
    <div id="m-toc-topbar" class="navbar navbar-expand-lg navbar-dark bg-dark border rounded" role="navigation">
      <div id="toc-scroll-target">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#m-toc-topnav-collapse" aria-controls="m-toc-topnav-collapse" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
        <div id="m-toc-topnav-collapse" class="collapse navbar-collapse">
            <ul id="m-toc-topnav" class="navbar-nav">

                                    <li class="nav-item toplevel"><a class="nav-link" href="#dev-release-management_toc_release-management" title="Release Management">Release Management</a></li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" title="Gitflow Workflow In Action" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Gitflow Workflow In Action</a>
                            <div class="dropdown-menu">
                                <!-- Repeat the item, otherwise it is not clickable as the dropdown root -->
                                <a class="dropdown-item" href="#dev-release-management_toc_gitflow-workflow-in-action" title="Gitflow Workflow In Action">Gitflow Workflow In Action</a>
                                <div class="dropdown-divider"></div>
                                              <ul class="navbar-nav">
                    <li class="dropdown-submenu">
                        <a class="dropdown-item" href="#dev-release-management_toc_feature-branches" title="Feature Branches">Feature Branches</a>
                        <div class="dropdown-menu" role="menu">
                <a class="dropdown-item" href="#dev-release-management_toc_using-feature-branch" title="Using Feature Branch">Using Feature Branch</a>
                        </div>
                    </li>
                </ul>
                <ul class="navbar-nav">
                    <li class="dropdown-submenu">
                        <a class="dropdown-item" href="#dev-release-management_toc_release-branches" title="Release Branches">Release Branches</a>
                        <div class="dropdown-menu" role="menu">
                <a class="dropdown-item" href="#dev-release-management_toc_release-checklist" title="Release Checklist">Release Checklist</a>
                <a class="dropdown-item" href="#dev-release-management_toc_using-release-branch" title="Using Release Branch">Using Release Branch</a>
                        </div>
                    </li>
                </ul>
                <ul class="navbar-nav">
                    <li class="dropdown-submenu">
                        <a class="dropdown-item" href="#dev-release-management_toc_maintenance-branches" title="Maintenance Branches">Maintenance Branches</a>
                        <div class="dropdown-menu" role="menu">
                <a class="dropdown-item" href="#dev-release-management_toc_using-maintenance-branch" title="Using Maintenance Branch">Using Maintenance Branch</a>
                        </div>
                    </li>
                </ul>
                            </div>
                        </li>
                        <li class="nav-item toplevel"><a class="nav-link" href="#dev-release-management_toc_references1" title="References">References</a></li>
            </ul>
        </div>
      </div> <!-- .container -->
    </div> <!-- end: m-toc-topbar -->
            <h1 id="dev-release-management_toc_release-management">Release Management</h1> 
<p>The workflow used is Gitflow workflow from Vincent Driessen at <a class="externalLink" href="http://nvie.com/">nvie</a>. This workflow is supported in project by serveral tools:</p> 
<ul> 
 <li><code>Git</code>, Git extension <a class="externalLink" href="https://github.com/nvie/gitflow">git-flow</a>.</li> 
 <li><code>maven</code> and <code>JGit Flow</code> maven plugin, allows executing Gitflow workflow actions according to the configuration stored in maven <code>pom.xml</code>.</li> 
</ul> 
<p>The Gitflow Workflow defines a strict branching model designed around the project release. While somewhat more complicated than the <b>Feature Branch Workflow</b>, this provides a robust framework for managing larger projects. This workflow doesn’t add any new concepts or commands beyond what’s required for the Feature Branch Workflow. Instead, it assigns very specific roles to different branches and defines how and when they should interact. In addition to feature branches, it uses individual branches for preparing, maintaining, and recording releases. Of course, you also get to leverage all the benefits of the Feature Branch Workflow: pull requests, isolated experiments, and more efficient collaboration.</p> 
<section> 
 <h2 id="dev-release-management_toc_gitflow-workflow-in-action">Gitflow Workflow In Action</h2> 
 <p>The Gitflow Workflow still uses a central repository as the communication hub for all developers. And, as in the other workflows, developers work locally and push branches to the central repo. The only difference is the branch structure of the project.</p> 
 <p>Instead of a single <code>master</code> branch, this workflow uses two branches to record the history of the project. The <code>master</code> branch stores the official release history, and the <code>develop</code> branch serves as an integration branch for features. It’s also convenient to tag all commits in the master branch with a version number.</p> 
 <p><img src="images/git-workflow.png" alt="Gitflow Workflow" class="img-fluid"></p> 
 <p>The rest of this workflow revolves around the distinction between these two branches.</p> 
 <section> 
  <h3 id="dev-release-management_toc_feature-branches">Feature Branches</h3> 
  <p>Each new feature should reside in its own branch, which can be pushed to the central repository for backup/collaboration. But, instead of branching off of <code>master</code>, feature branches use develop as their parent branch. When a feature is complete, it gets merged back into <code>develop</code>. Features should never interact directly with master.</p> 
  <p>Common conventions:</p> 
  <ul> 
   <li><b>branch off</b>: <code>develop</code></li> 
   <li><b>merge into</b>: <code>develop</code></li> 
   <li><b>naming convention</b>: <code>feature/*</code></li> 
  </ul> 
  <p><img src="images/workflow-features.png" alt="Gitflow Feature Branch" class="img-fluid"></p> 
  <p>After the feature branch is merged, the version on <code>develop</code> is <code>1.3.0-unstable.3</code>. This is due to develop running in <code>continuous deployment mode</code>.</p> 
  <section> 
   <h4 id="dev-release-management_toc_using-feature-branch">Using Feature Branch</h4> 
   <p>In general, one issue in GitHub corresponds to one feature branch in <code>Git</code>. Instead to create new branch directly from <code>Git</code>, do the following steps:</p> 
   <ol style="list-style-type: decimal"> 
    <li>Open a terminal, by changing directory to the root of project.</li> 
    <li>Create feature branch using <code>maven-jgitflow-plugin</code>.</li> 
    <li>Give name to the branch with prefix of a specific issue ID as <code>REFLOW-1234-add-new-feature</code> to create as many two-way links between <code>Git</code> changeset, <code>GitHub</code> issue and <b>CI</b> build.</li> 
   </ol> 
   <div class="source"> 
    <div class="source"> 
     <pre>$ mvn jgitflow:feature-start
[INFO] Scanning for projects...
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Build Order:
[INFO]
[INFO] Foo project
[INFO] core
[INFO] webapp
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building Foo project 1.0.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO]
[INFO] --- jgitflow-maven-plugin:1.0-m5.1:feature-start (default-cli) @foo ---
[INFO] (develop) Checking for SNAPSHOT version in projects...
[INFO] (develop) Checking dependencies and plugins for snapshots ...
What is the feature branch name? feature/: REFLOW-78-new-feature
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO]
[INFO] Foo project ............................. SUCCESS [ 56.666 s]
[INFO] core .................................... SKIPPED
[INFO] webapp .................................. SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 59.370 s
[INFO] Finished at: 2015-08-06T10:12:28+02:00
[INFO] Final Memory: 11M/39M
[INFO] ------------------------------------------------------------------------
</pre> 
    </div> 
   </div> 
   <p>Tips, click on <b>Terminal</b> button in SourceTree to open a <code>Bash</code> command prompt directly on the root directory of project.</p> 
   <p>This command creates a new feature branch; prompts for the branch name which will take the format <code>feature/{branch name}</code>. Add <code>-DpushFeatures=true</code> to push the branch to origin automatically.</p> 
   <p>When the feature is complete, execute the following command to merge the feature branch to <code>develop</code> branch:</p> 
   <div class="source"> 
    <div class="source"> 
     <pre>$ mvn jgitflow:feature-finish
[INFO] Scanning for projects...
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Build Order:
[INFO]
[INFO] Foo project
[INFO] core
[INFO] webapp
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building Foo project 1.0.1-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO]
[INFO] --- jgitflow-maven-plugin:1.0-m5.1:feature-finish (default-cli) @ foo ---
What is the feature branch name? feature/
1:  78-new-feature
2:  47-another-feature
Choose a number (1/2) [1]: 1
[INFO] running jgitflow feature finish...
[INFO] Executing: cmd.exe /X /C "F:\development\tools\local\maven\apache-maven-3.2.3\bin\..\bin\mvn -s C:\Temp\release-settings6432120503142207031.xml clean install --no-plugin-updates -Penforcer-rules -Pjcenter"
...
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO]
[INFO] Foo project ............................. SUCCESS [11:38 min]
[INFO] core .................................... SKIPPED
[INFO] webapp .................................. SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 11:39 min
[INFO] Finished at: 2015-08-06T11:06:51+02:00
[INFO] Final Memory: 12M/33M
[INFO] ------------------------------------------------------------------------
</pre> 
    </div> 
   </div> 
   <p>This command executes tests and merges a feature branch back into the <code>develop</code> branch and add <code>-DpushFeatures=true</code> to push the branch to origin automatically.</p> 
   <p>Note that feature branches combined with the <code>develop</code> branch is, for all intents and purposes, the Feature Branch Workflow.</p> 
  </section> 
 </section> 
 <section> 
  <h3 id="dev-release-management_toc_release-branches">Release Branches</h3> 
  <p>Using a dedicated branch to prepare releases makes it possible for one team to polish the current release while another team continues working on features for the next release. It also creates well-defined phases of development (e.g., it‘s easy to say, “this week we’re preparing for version 4.0” and to actually see it in the structure of the repository).</p> 
  <p>Common conventions:</p> 
  <ul> 
   <li><b>branch off</b>: <code>develop</code></li> 
   <li><b>merge into</b>: <code>master</code> and <code>develop</code></li> 
   <li><b>naming convention</b>: <code>release/{version}</code> eg <code>release/2.2.0</code></li> 
  </ul> 
  <p><img src="images/workflow-release.png" alt="Gitflow Release Branch" class="img-fluid"></p> 
  <p>The release version is extracted from branch name or the first version tag placed on the <code>release</code> branch. Note that at least one version tag required on the branch. the recommended initial tag is <code>{releaseVersion}-alpha1</code>.</p> 
  <section> 
   <h4 id="dev-release-management_toc_release-checklist">Release Checklist</h4> 
   <p>There are any Tasks to do while the Release Phase:</p> 
   <ul> 
    <li>Publish distribution package for user acceptance testing and bug fixing.</li> 
    <li>Execute functional tests.</li> 
    <li>Update and review documentation.</li> 
    <li>Update CHANGELOG distribution file and release notes documentation.</li> 
    <li>update <code>latest</code> version in Apache Server configuration.</li> 
    <li>Release version in <code>GitHub</code>.</li> 
    <li>Announcements.</li> 
    <li>Congratulations.</li> 
   </ul> 
  </section> 
  <section> 
   <h4 id="dev-release-management_toc_using-release-branch">Using Release Branch</h4> 
   <p>Once <code>develop</code> has acquired enough features for a release (or a predetermined release date is approaching), you fork a release branch off of <code>develop</code>. Creating this branch starts the next release cycle, so no new features can be added after this point—only bug fixes, documentation generation, and other release-oriented tasks should go in this branch.</p> 
   <div class="source"> 
    <div class="source"> 
     <pre>$ mvn clean install -PskipTests
   -&gt; install the last version in your local repository
...
$ mvn jgitflow:release-start -DreleaseVersion=1.1.0
[INFO] Scanning for projects...
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Build Order:
[INFO]
[INFO] Foo project
[INFO] core
[INFO] webapp
[INFO] doc
[INFO] Functional Test Module
[INFO] Foo Distribution
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building Foo project 1.1.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO]
[INFO] --- jgitflow-maven-plugin:1.0-m5.1:release-start (default-cli) @ Foo project ---
[INFO] (develop) Checking for SNAPSHOT version in projects...
[INFO] (develop) Checking dependencies and plugins for snapshots ...
[INFO] (release/1.1.0) adding snapshot to pom versions...
[INFO] (release/1.1.0) updating poms for all projects...
[INFO] turn on debug logging with -X to see exact changes
[INFO] (release/1.1.0) updating pom for Foo project
[INFO] (release/1.1.0) updating pom for core
[INFO] (release/1.1.0) updating pom for webapp
[INFO] (release/1.1.0) updating pom for doc
[INFO] (release/1.1.0) updating pom for Functional Test Module
[INFO] (release/1.1.0) updating pom for Foo Distribution
What is the development version for "Foo project"? (org.devacfr.foo:foo) [1.1.1-SNAPSHOT]: 1.2.0-SNAPSHOT
[INFO] (develop) updating poms with next development version...
[INFO] (develop) updating poms for all projects...
[INFO] turn on debug logging with -X to see exact changes
[INFO] (develop) updating pom for Foo project
[INFO] (develop) updating pom for core
[INFO] (develop) updating pom for webapp
[INFO] (develop) updating pom for doc
[INFO] (develop) updating pom for Functional Test Module
[INFO] (develop) updating pom for Foo Distribution
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO]
[INFO] Foo project ........................................ SUCCESS [ 56.666 s]
[INFO] core ............................................... SKIPPED
[INFO] webapp ............................................. SKIPPED
[INFO] doc ................................................ SKIPPED
[INFO] Functional Test Module ............................. SKIPPED
[INFO] Foo Distribution ................................... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 51.952 s
[INFO] Finished at: 2015-10-20T10:10:39+02:00
[INFO] Final Memory: 11M/37M
[INFO] ------------------------------------------------------------------------
</pre> 
    </div> 
   </div> 
   <p>Once it’s ready to ship, the release gets merged into <code>master</code> and tagged with a version number. In addition, it should be merged back into <code>develop</code>, which may have progressed since the release was initiated.</p> 
   <div class="source"> 
    <div class="source"> 
     <pre>$ mvn jgitflow:release-finish -Prelease-offline
[INFO] Scanning for projects...
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Build Order:
[INFO]
[INFO] Foo project
[INFO] core
[INFO] webapp
[INFO] doc
[INFO] Functional Test Module
[INFO] Foo Distribution
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building TPD project 1.1.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO]
[INFO] --- jgitflow-maven-plugin:1.0-m5.1:release-finish (default-cli) @ Foo project ---
[INFO] running jgitflow release finish...
[INFO] (release/1.1.0) Updating poms for RELEASE
[INFO] (release/1.1.0) removing snapshot from pom versions...
[INFO] (release/1.1.0) updating poms for all projects...
[INFO] turn on debug logging with -X to see exact changes
[INFO] (release/1.1.0) updating pom for Foo project
[INFO] (release/1.1.0) updating pom for core
[INFO] (release/1.1.0) updating pom for webapp
[INFO] (release/1.1.0) updating pom for doc
[INFO] (release/1.1.0) updating pom for Foo Distribution
[INFO] Executing: cmd.exe /X /C "F:\development\tools\local\maven\apache-maven-3.2.5\bin\..\bin\mvn -s C:\Temp\release-settings2749399463239700451.xml"
...
[INFO] (develop) copying pom versions...
[INFO] (develop) updating poms for all projects...
[INFO] turn on debug logging with -X to see exact changes
[INFO] (develop) updating pom for Foo project
[INFO] (develop) updating pom for core
[INFO] (develop) updating pom for webapp
[INFO] (develop) updating pom for doc
[INFO] (develop) updating pom for Foo Distribution
[INFO] copying pom versions...
[INFO] (develop) updating poms for all projects...
[INFO] turn on debug logging with -X to see exact changes
[INFO] (develop) updating pom for Foo project
[INFO] (develop) updating pom for core
[INFO] (develop) updating pom for webapp
[INFO] (develop) updating pom for doc
[INFO] (develop) updating pom for Foo Distribution
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO]
[INFO] Foo project ........................................ SUCCESS [ 56.666 s]
[INFO] core ............................................... SKIPPED
[INFO] webapp ............................................. SKIPPED
[INFO] doc ................................................ SKIPPED
[INFO] Foo Distribution ................................... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 11:39 min
[INFO] Finished at: 2015-08-06T11:06:51+02:00
[INFO] Final Memory: 12M/33M
[INFO] ------------------------------------------------------------------------
</pre> 
    </div> 
   </div> 
  </section> 
 </section> 
 <section> 
  <h3 id="dev-release-management_toc_maintenance-branches">Maintenance Branches</h3> 
  <p>Maintenance or “hotfix” branches are used to quickly patch production releases. This is the only branch that should fork directly off of <code>master</code>. As soon as the fix is complete, it should be merged into both <code>master</code> and <code>develop</code> (or the current release branch), and <code>master</code> should be tagged with an updated version number.</p> 
  <p>Common conventions:</p> 
  <ul> 
   <li><b>branch off</b>: <code>master</code></li> 
   <li><b>merge into</b>: <code>master</code></li> 
   <li><b>naming convention</b>: <code>hotfix/{version}</code> eg <code>hotfix/2.0.1</code></li> 
  </ul> 
  <p><img src="images/workflow-hotfix.png" alt="Gitflow Maintenance Branch" class="img-fluid"></p> 
  <section> 
   <h4 id="dev-release-management_toc_using-maintenance-branch">Using Maintenance Branch</h4> 
   <p>In general, one BUGFIX issue in GitHub corresponds to one maintenance branch in <code>Git</code>, but you can include more than one BUGFIX issues to a same maintenance branch. The main Gitflow restriction is you couldn’t create a second maintenance branch in same time whether one already exists. Instead to create new branch directly from <code>Git</code>, do the following steps:</p> 
   <ol style="list-style-type: decimal"> 
    <li>Open a terminal, by changing directory to the root of project.</li> 
    <li>Create maintenance branch using <code>maven-jgitflow-plugin</code>.</li> 
   </ol> 
   <div class="source"> 
    <div class="source"> 
     <pre>$ mvn jgitflow:hotfix-start
[INFO] Scanning for projects...
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Build Order:
[INFO]
[INFO] Foo project
[INFO] core
[INFO] webapp
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building Foo project 1.0.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO]
[INFO] (master) Checking for RELEASE version in projects...
[INFO] (master) Checking dependencies and plugins for snapshots ...
What is the hotfix version for "Foo project"? (org.devacfr.foo:foo) [1.0.3]: 1.0.3
...
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO]
[INFO] Foo project ........................................ SUCCESS [ 56.666 s]
[INFO] core ............................................... SKIPPED
[INFO] webapp ............................................. SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 59.370 s
[INFO] Finished at: 2015-08-06T10:12:28+02:00
[INFO] Final Memory: 11M/39M
[INFO] ------------------------------------------------------------------------
</pre> 
    </div> 
   </div> 
   <p>This command creates a new maintenance branch; prompts for the hotfix version (i.e. branch name) which will take the format <code>hotfix/{version}</code>.</p> 
   <p>When the hotfix is complete, execute the following command to merge the maintenance branch to <code>develop</code> and <code>master</code> branches:</p> 
   <div class="source"> 
    <div class="source"> 
     <pre>$ mvn jgitflow:hotfix-finish
</pre> 
    </div> 
   </div> 
   <p>Having a dedicated line of development for bug fixes lets your team address issues without interrupting the rest of the workflow or waiting for the next release cycle. You can think of maintenance branches as ad hoc release branches that work directly with <code>master</code>.</p> 
  </section> 
 </section> 
</section> 
<section> 
 <h2 id="dev-release-management_toc_references1">References</h2> 
 <ul> 
  <li><a class="externalLink" href="http://gitversion.readthedocs.org/en/latest/">GitVersion Docs</a></li> 
  <li><a class="externalLink" href="http://jgitflow.bitbucket.org/">JGit Flow Maven Plugin Documentation</a></li> 
  <li><a class="externalLink" href="http://blogs.atlassian.com/2013/05/maven-git-flow-plugin-for-better-releases/">Maven Git Flow Plugin for Better Releases</a></li> 
  <li><a class="externalLink" href="http://kentorjava.com/2013/11/24/making-a-release-with-maven-jgitflow-plugin/">Making a release with Maven JGitFlow plugin</a></li> 
  <li><a class="externalLink" href="http://george-stathis.com/2013/11/09/painless-maven-project-releases-with-maven-gitflow-plugin/">Painless Maven project releases with Maven GitFlow Plugin</a></li> 
 </ul> 
</section>
        </div>
    <div class="d-none d-sm-none d-md-none d-lg-none d-xl-block col-xl-3">
        <div class="feedback-links">
            <ul class="nav flex-column flex-nowrap">
                <li class="nav-item">
                    <a class="nav-link" href="https://github.com/devacfr/reflow-maven-skin/tree/master/src/site/markdown/dev/release-management.md"><i class="far fa-edit" target="_blank" rel="noopener noreferrer"></i> Improve this page</a>
                </li>
            </ul>
        </div>
    </div>
</div>